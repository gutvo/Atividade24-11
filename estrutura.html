<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistema Operacional - Eduvale</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">


</head>

<body>

    <div class="container">

        <div class="row">
            <div class="col-12">
                <h1 class="alert alert-info text-center">Aulas de Sistemas Operacionais</h1>
            </div>
        </div>



        <div class="row">
            <div class="col-3">

                <div class="list-group">
                    <a href="index.html" class="list-group-item ">Visão Geral dos Sistemas Operacionais</a>
                    <a href="evolucao.html" class="list-group-item">A Evolução dos Sistemas Operacionais</a>
                    <a href="ocorrencias.html" class="list-group-item">Concorrência</a>
                    <a href="estrutura.html" class="list-group-item active">Estrutura do Sistema Operacional</a>
                    <a href="processo.html" class="list-group-item">Processo</a>
                    <a href="thread.html" class="list-group-item">Thread</a>
                    <a href="sincronizacao.html" class="list-group-item">Sincronização e Comunicação de Processos</a>
                    <a href="gerencia_processador.html" class="list-group-item">Gerencia do Processador</a>
                    <a href="gerencia_memoria.html" class="list-group-item">Gerência de Memória</a>
                    <a href="gerencia_dispositivos.html" class="list-group-item">Gerencia de dispositivos</a>
                    <a href="gerencia_arquivos.html" class="list-group-item">Gerência de Sistema de Arquivos</a>
                    <a href="multiplos_processarores.html" class="list-group-item">Sistemas com múltiplos processadores</a>
                </div>
            </div>

            <div class="col-9">
                <h2 class="text-center alert alert-secondary">Estrutura do Sistema Operacional</h2>

                <h3> Introdução</h3>
                <p>
                    Sabemos que o sistema operacional é um conjunto de rotinas que oferece serviços ao usuário e às aplicações mas ocorre que essa é uma forma muito simples de entender um sistema operacional.</p>
                <p>
                    Na verdade, o conjunto de rotinas é o que chama-se de núcleo do sistema operacional ou kernel.</p>
                <p>
                    Contudo os sistemas operacionais são formados por algo além do núcleo. Os sistemas operacionais possuem também uma linguagem de comandos e diversos utilitários de apoio que são usados para complementar o sistema operacional.</p>
                <p>
                    Os usuários e aplicações se comunicam com o núcleo do sistema operacional de maneiras distintas. Em geral, os usuários usam aplicações que invocam as rotinas do sistema operacional, por exemplo, quando gravamos um arquivo. Além disso, os usuários também
                    usam a linguagem de comandos do sistema operacional para executar tarefas no sistema operacional e também usam programas utilitários para tarefas mais complexas como compilação, transmissão de arquivos por exemplo. O ponto é que cada
                    sistema operacional possui sua própria linguagem de comandos, seus próprios utilitários e demais componentes que formam sua estrutura.</p>
                <p>
                    A estrutura de um sistema operacional pode variar conforme o projeto do próprio sistema operacional mas em geral temos os seguintes componentes:</p>
                <img src="imgs/estrutura do sistema operacional.png" alt="">

                <h3> Funções do Núcleo</h3>
                <p>
                    Diferente das rotinas de um programa do usuário que são executadas segundo uma determinada ordem definida no programa, as rotinas do sistema operacional são executadas concorrentemente sem uma ordem predefinida. A execução dessas rotinas do sistema operacional
                    ocorre com base em eventos assíncronos. Muitos desses eventos são gerados por hardware e por tarefas internas do sistema operacional.</p>
                <p>
                    As principais funções do núcleo do sistema operacional estão listadas abaixo:</p>
                <ul>
                    <li>tratamento de interrupções e exceções;</li>
                    <li>criação e eliminação de processos e threads;</li>
                    <li>sincronização e comunicação entre processos e threads;</li>
                    <li>gerencia de memória;</li>
                    <li>gerencia do sistema de arquivos;</li>
                    <li>gerencia de dispositivos de entrada e saída;</li>
                    <li>suporte a redes locais e distribuídas;</li>
                    <li>segurança e auditoria do sistema;</li>
                    <li>contabilização de uso do sistema;</li>
                </ul>
                <p>
                    Em sistemas multi programados é natural que surjam problemas relacionados com segurança do inter-relacionamento dos diversos subsistemas existente e recursos que são compartilhados pelos vários usuários e programas executados de forma concorrente pela
                    UCP. Esta situação requer que o sistema operacional garanta a confiabilidade das tarefas sendo executadas de forma concorrente, dos dados dos usuários destas tarefas e a integridade do próprio sistema operacional.</p>
                <p>
                    Outra função do sistema operacional é garantir que nenhum processo monopolize o uso da UCP, permitindo que haja uma alternância dos processos executados concorrentemente.</p>
                <p>
                    Outra função do sistema operacional é garantir que cada programa tenha sua área de memória protegida de outros programas para que um programa não acesse nenhum endereço de memória que esteja em uso por outro programa. Caso um programa acesse um endereço
                    de memória em uso por outro programa, deve ser gerado um erro, uma exceção.</p>
                <p>
                    Outra função semelhante do sistema operacional é garantir que os dados de cada usuário sejam gravados em disco de forma confiável, considerando que existem vários programas, de vários usuários, gravando dados no disco de forma concorrente. Neste caso
                    é função do sistema operacional garantir a integridade e confiabilidade dos dados armazenados pelos vários programas executados. O sistema operacional deve permitir ainda que mais de um usuário possa ter acesso simultâneo aos dados
                    de uma arquivo.</p>
                <p>
                    Todos estes cenários típicos e sistemas multi programados fazem com que o sistema operacional tenha que implementar uma série de controles e proteção para garantir a execução de várias tarefas e o compartilhamento seguro de confiável dos recursos do computador
                    ( disco, memória, impressora, etc. ). Dois desses mecanismos nós vimos na aula passada, são as interrupções e as exceções.</p>

                <h3> Modo de Acesso</h3>
                <p>
                    Em todo projeto de sistema operacional os projetistas sempre se preocuparam em garantir a integridade do próprio sistema operacional, protegendo o núcleo e o serviços do sistema operação de acessos indevidos por uma aplicação do usuário. Caso uma aplicação
                    do usuário tenha acesso ao núcleo e realize alguma operação que altere sua integridade então todo o sistema ficará comprometido. Muitos sistemas operacionais utilizam um mecanismo de segurança implementado no hardware do processador
                    e conhecido como modo de acesso.</p>
                <p>
                    Este mecanismo de proteção funciona através do conceito de modo usuário ou modo kernel.</p>
                <p>
                    Quando o processador trabalha em modo usuário, uma aplicação tem acesso a apenas algumas instruções não -privilegiadas. tendo acesso a um número reduzido de instruções. Quando o processador está em modo kernel a aplicação sendo executada tem acesso a
                    todo o conjunto de instruções do processador, tem acesso as instruções privilegiadas. O modo de acesso é determinado por um conjunto de bits no registrador de status. O hardware verifica este registrador para determinar se uma instrução
                    pode ou não ser executada.
                </p>

                <h3> Rotinas do Sistema Operacional e System Calls</h3>
                <p>
                    As rotinas do sistema operacional compõem o núcleo do sistema e possuem em seu código instruções privilegiadas. Portanto, estas rotinas somente podem ser executadas quando o processador está em modo kernel. Assim, as rotinas do sistema operacional não
                    estão disponíveis para aplicações do usuário e deve ser implementado mecanismo de proteção a tais rotinas.</p>
                <p>
                    O mecanismo usa o controle de execução das rotinas do sistema operacional é conhecido como system call. Assim, toda a vez que uma aplicação do usuário chamar uma rotina do sistema operacional o mecanismo de system call é ativado e ele verifica se a aplicação
                    do usuário possui os privilégios necessários para executar a rotina desejada.</p>
                <p>
                    Em caso negativo, o sistema operacional impede a execução da rotina e sinaliza que a execução não é possível.</p>
                <p>
                    Em caso positivo, o sistema operacional salva o estado dos registradores, troca o modo de acesso para kernel e realiza a execução da rotina do sistema operacional, alterando o registrador PC com o endereço da rotina chamada. Ao termino da execução da
                    rotina, o modo de acesso é alterado para modo usuário.</p>

                <h3> Chamadas a rotinas do Sistema Operacional</h3>
                <p>
                    As rotinas do sistema operacional e as system calls dão acesso as instruções privilegiadas e ao núcleo do sistema. Sempre que uma aplicação do usuário desejar executar uma rotina do sistema operacional deve invocar a system call que irá executar as rotinas
                    do sistema operacional e retornar um status para a aplicação do usuário.</p>
                <img src="imgs/system calls.png" alt="">